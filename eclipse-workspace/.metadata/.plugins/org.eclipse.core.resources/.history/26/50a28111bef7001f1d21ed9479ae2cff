grammar org.xtext.geodes.trustdsl.TrustDSL with org.eclipse.xtext.common.Terminals

generate trustDSL "http://www.xtext.org/geodes/trustdsl/TrustDSL"

import "http://www.eclipse.org/emf/2002/Ecore" as ecore
 
TrustModel:
    (elements+=Element)*;
    
Element:
    Agent | UncertainElement | UncertainElementFusion | Belief;

Agent:
    'Agent' name=ID;

UncertainElement:
    'UncertainElement' name=ID 
    '{'
        'beliefs' '{' beliefs+=Belief (',' beliefs+=Belief)* '}'
    '}';

Belief:
    'Belief' name=ID 
    '(' agent=[Agent] ',' opinion=SBoolean ')';

SBoolean:
    '(' belief=REAL ',' disbelief=REAL ',' uncertainty=REAL ',' baseRate=REAL ')';

UncertainElementFusion:
    'UncertainElementFusion' name=ID 
    '{'
        'beliefs' '{' beliefs+=Belief (',' beliefs+=Belief)* '}'
        'aleatoryCumulativeBF' aleatoryCumulativeBF=SBoolean
        'averageingBF' averageingBF=SBoolean
//        'beliefConstraintFusion' beliefConstraintFusion=SBoolean
//        'consensusCompromiseBF' consensusCompromiseBF=SBoolean
//        'epistemicCumulativeBF' epistemicCumulativeBF=SBoolean
//        'weightedBF' weightedBF=SBoolean
//        'fusions' '{' fusions+=FusionOperator (',' fusions+=FusionOperator)* '}'
    '}';

FusionOperator:
    ('BCF' | 'CCF' | 'ABF' | 'WBF' | 'ACBF' | 'ECBF');

REAL returns ecore::EDouble:
    INT '.' INT;